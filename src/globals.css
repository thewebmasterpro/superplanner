@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: var(--color-base-100);
    --foreground: var(--color-base-content);
    --card: var(--color-base-100);
    --card-foreground: var(--color-base-content);
    --popover: var(--color-base-100);
    --popover-foreground: var(--color-base-content);
    --muted: var(--color-neutral);
    --muted-foreground: color-mix(in oklch, var(--color-base-content) 60%, transparent);
    --accent: var(--color-accent);
    --accent-foreground: var(--color-accent-content);
    --destructive: var(--color-error);
    --destructive-foreground: var(--color-error-content);
    --border: var(--color-base-300);
    --input: var(--color-base-300);
    --primary: var(--color-primary);
    --primary-foreground: var(--color-primary-content);
    --secondary: var(--color-secondary);
    --secondary-foreground: var(--color-secondary-content);
    --ring: var(--color-primary);
    --radius: 0.75rem;

    /* Workspace Colors (keep these as they are custom) */
    --workspace-amp: 99 102 241;
    --workspace-web: 245 158 11;
    --workspace-agency: 34 197 94;
    --workspace-wazo: 20 184 166;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display tracking-tight text-foreground;
  }

  h1 {
    @apply text-4xl font-extrabold;
  }

  h2 {
    @apply text-3xl font-bold;
  }

  h3 {
    @apply text-2xl font-bold;
  }
}

/* Custom status badge colors */
.status-todo {
  @apply bg-status-todo/20 text-status-todo border border-status-todo/30;
}

.status-in_progress {
  @apply bg-status-in_progress/20 text-status-in_progress border border-status-in_progress/30;
}

.status-blocked {
  @apply bg-status-blocked/20 text-status-blocked border border-status-blocked/30;
}

.status-done {
  @apply bg-status-done/20 text-status-done border border-status-done/30;
}

.status-cancelled {
  @apply bg-status-cancelled/20 text-status-cancelled border border-status-cancelled/30;
}

/* Priority visual indicators */
.priority-bar {
  height: 4px;
  transition: all 0.2s ease;
}

.priority-1 .priority-bar {
  @apply bg-priority-1;
}

.priority-2 .priority-bar {
  @apply bg-priority-2;
}

.priority-3 .priority-bar {
  @apply bg-priority-3;
}

.priority-4 .priority-bar {
  @apply bg-priority-4;
}

.priority-5 .priority-bar {
  @apply bg-priority-5;
}

/* Staggered entrance animations */
@keyframes fadeSlideUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeSlideDown {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeScale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-stagger > * {
  animation: fadeSlideUp 0.4s ease-out both;
}

.animate-stagger > *:nth-child(1) { animation-delay: 0ms; }
.animate-stagger > *:nth-child(2) { animation-delay: 60ms; }
.animate-stagger > *:nth-child(3) { animation-delay: 120ms; }
.animate-stagger > *:nth-child(4) { animation-delay: 180ms; }
.animate-stagger > *:nth-child(5) { animation-delay: 240ms; }
.animate-stagger > *:nth-child(6) { animation-delay: 300ms; }
.animate-stagger > *:nth-child(7) { animation-delay: 360ms; }
.animate-stagger > *:nth-child(8) { animation-delay: 420ms; }

.animate-stagger-fast > * {
  animation: fadeSlideUp 0.3s ease-out both;
}

.animate-stagger-fast > *:nth-child(1) { animation-delay: 0ms; }
.animate-stagger-fast > *:nth-child(2) { animation-delay: 40ms; }
.animate-stagger-fast > *:nth-child(3) { animation-delay: 80ms; }
.animate-stagger-fast > *:nth-child(4) { animation-delay: 120ms; }
.animate-stagger-fast > *:nth-child(5) { animation-delay: 160ms; }
.animate-stagger-fast > *:nth-child(6) { animation-delay: 200ms; }

.animate-slide-up {
  animation: fadeSlideUp 0.5s ease-out both;
}

.animate-slide-down {
  animation: fadeSlideDown 0.4s ease-out both;
}

.animate-scale-in {
  animation: fadeScale 0.4s ease-out both;
}

.delay-100 { animation-delay: 100ms; }
.delay-200 { animation-delay: 200ms; }
.delay-300 { animation-delay: 300ms; }
.delay-400 { animation-delay: 400ms; }

/* Smooth transitions */
@layer components {
  .smooth-transition {
    @apply transition-all duration-200 ease-in-out;
  }

  .container-tight {
    @apply container mx-auto px-4 md:px-8 max-w-[1400px];
  }

  .section-gap {
    @apply space-y-8;
  }

  .content-gap {
    @apply space-y-4;
  }

  .page-header {
    @apply mb-8;
  }

  /* Mobile improvements */
  @media (max-width: 640px) {
    .btn-touch {
      @apply h-12 px-6 text-base;
    }
  }

  .tap-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }
}

/* React Big Calendar custom styles */
.rbc-calendar {
  font-family: 'Inter', sans-serif;
}

.rbc-header {
  padding: 12px 8px;
  font-weight: 600;
  border-bottom: 2px solid var(--color-base-300);
}

.rbc-today {
  background-color: var(--color-accent);
}

.rbc-event {
  padding: 4px 8px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
}

.rbc-event:hover {
  opacity: 1 !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.rbc-event-label {
  font-size: 12px;
}

.rbc-toolbar {
  padding: 16px 0;
  margin-bottom: 16px;
}

.rbc-toolbar button {
  padding: 8px 16px;
  border-radius: 6px;
  border: 1px solid var(--color-base-300);
  background: var(--color-base-100);
  color: var(--color-base-content);
  font-weight: 500;
  transition: all 0.2s;
}

.rbc-toolbar button:hover {
  background: var(--color-accent);
}

.rbc-toolbar button.rbc-active {
  background: var(--color-primary);
  color: var(--color-primary-content);
}

.rbc-month-view,
.rbc-time-view,
.rbc-agenda-view {
  border: 1px solid var(--color-base-300);
  border-radius: 8px;
  overflow: hidden;
}

.rbc-time-slot {
  border-top: 1px solid var(--color-base-300);
}

.rbc-day-slot .rbc-time-slot {
  border-top: 1px solid var(--color-base-300);
}

.rbc-current-time-indicator {
  background-color: #ef4444;
  height: 2px;
}

/* Driver.js Tour Overrides */
.driver-popover {
  background-color: var(--color-base-100) !important;
  color: var(--color-base-content) !important;
  border: 1px solid var(--color-base-300) !important;
  border-radius: 1rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
}

.driver-popover-title {
  font-family: 'Outfit', sans-serif !important;
  font-weight: 800 !important;
  font-size: 1rem !important;
  color: var(--color-base-content) !important;
}

.driver-popover-description {
  color: var(--color-base-content) !important;
  opacity: 0.7;
  font-size: 0.875rem !important;
}

.driver-popover-progress-text {
  color: var(--color-base-content) !important;
  opacity: 0.4;
  font-size: 0.75rem !important;
  font-weight: 700 !important;
}

.driver-popover-prev-btn {
  background-color: transparent !important;
  color: var(--color-base-content) !important;
  border: 1px solid var(--color-base-300) !important;
  border-radius: 0.5rem !important;
  font-weight: 600 !important;
  padding: 0.375rem 1rem !important;
}

.driver-popover-prev-btn:hover {
  background-color: var(--color-base-200) !important;
}

.driver-popover-next-btn,
.driver-popover-close-btn {
  background-color: var(--color-primary) !important;
  color: var(--color-primary-content) !important;
  border: none !important;
  border-radius: 0.5rem !important;
  font-weight: 600 !important;
  padding: 0;
  text-shadow: none !important;
}

.driver-popover-next-btn:hover,
.driver-popover-close-btn:hover {
  opacity: 0.9;
}

.driver-popover-arrow-side-left.driver-popover-arrow,
.driver-popover-arrow-side-right.driver-popover-arrow,
.driver-popover-arrow-side-top.driver-popover-arrow,
.driver-popover-arrow-side-bottom.driver-popover-arrow {
  border-color: var(--color-base-100) !important;
}

.driver-overlay {
  background-color: rgba(0, 0, 0, 0.5) !important;
}

/* Close button (X) styling - smaller padding */
.driver-popover-close-only-btn {
  padding: 0.25rem !important;
  width: 1.5rem !important;
  height: 1.5rem !important;
}

/* Landing Page Glassmorphism & Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInFromBottom {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-in {
  animation: fadeIn 0.6s ease-out forwards;
}

.fade-in {
  animation: fadeIn 0.6s ease-out forwards;
}

.slide-in-from-bottom-4 {
  animation: slideInFromBottom 0.6s ease-out forwards;
  transform: translateY(20px);
}

.slide-in-from-bottom-8 {
  animation: slideInFromBottom 0.8s ease-out forwards;
  transform: translateY(30px);
}

.delay-150 {
  animation-delay: 150ms;
}

.delay-500 {
  animation-delay: 500ms;
}

.delay-700 {
  animation-delay: 700ms;
}

.delay-1000 {
  animation-delay: 1000ms;
}

/* Pulse animation for background blobs */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

.animate-pulse {
  animation: pulse 4s ease-in-out infinite;
}

/* Backdrop blur support */
@supports (backdrop-filter: blur(10px)) {
  .backdrop-blur-xl {
    backdrop-filter: blur(24px);
  }
}